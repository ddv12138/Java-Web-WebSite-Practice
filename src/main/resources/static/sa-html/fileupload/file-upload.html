<!DOCTYPE html>
<html lang="en">
<head>
	<title></title>
	<meta charset="utf-8">
	<link class="admin-icon" rel="shortcut icon" type="image/x-icon">
	<meta content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"
	      name="viewport"/>
	<link href="https://cdn.bootcss.com/element-ui/2.12.0/theme-chalk/index.css" rel="stylesheet">
	<link href="https://cdn.bootcss.com/Swiper/4.5.1/css/swiper.min.css" rel="stylesheet">

	<script src="https://cdn.bootcss.com/vue/2.6.10/vue.js"></script>
	<script src="https://cdn.bootcss.com/element-ui/2.12.0/index.js"></script>
	<script src="https://cdn.bootcss.com/Swiper/4.5.1/js/swiper.min.js"></script>
	<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://cdn.bootcss.com/layer/3.0.1/layer.min.js"></script>
	<script src="/sa-resources/admin-util.js"></script>
	<script src="/static/sa.js"></script>
</head>
<body>
<div class="vue-box">
	<el-card class="box-card">
		<form action="/uploadfile" enctype="multipart/form-data" id="normalForm" method="post">
			<input name="file" type="file" value="upload">
			<input @click="normalSubmit()" type="button" value="do it!">
		</form>
	</el-card>
	<el-card class="box-card">
		<el-upload
				:before-remove="beforeRemove"
				:file-list="fileList"
				:on-exceed="handleExceed"
				:on-preview="handlePreview"
				:on-remove="handleRemove"
				action="/uploadfile"
				class="upload-demo">
			<el-button size="small" type="primary">点击上传</el-button>
			<div class="el-upload__tip" slot="tip">只能上传jpg/png文件，且不超过500kb</div>
		</el-upload>
	</el-card>
</div>

<script>
    const vm = new Vue({
        el: ".vue-box",
        data: {
            fileList: []
        },
        methods: {
            handlePreview(arg) {
                console.log(arg)
            },
            handleRemove(arg) {
                console.log(arg)
            },
            beforeRemove(arg) {
                console.log(arg)
            },
            handleExceed(arg) {
                console.log(arg)
            },
            normalSubmit(arg) {
                let data = new FormData($("#normalForm")[0]);
                // sa.ajax2("/uploadfile",data,function (res) {
                //     console.log(res)
                // },{type:"POST",processData: false});
                $.ajax({
                    url: "/uploadfile",//后台的接口地址
                    type: "post",//post请求方式
                    data: data,//参数
                    cache: false,
                    processData: false,
                    contentType: false,
                    success: function (data) {
                    }, error: function () {
                        alert("操作失败~");
                    }

                });
            }
        }
    });
</script>
</body>
</html>